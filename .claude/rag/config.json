{
  "version": "1.0.0",
  "description": "RAG configuration for Claude Skills semantic search",

  "embedding": {
    "provider": "openai",
    "model": "text-embedding-3-small",
    "dimensions": 1536,
    "batchSize": 100,
    "maxRetries": 3,
    "retryDelayMs": 1000
  },

  "chunking": {
    "strategy": "semantic",
    "maxChunkTokens": 512,
    "minChunkTokens": 50,
    "overlapTokens": 50,
    "sectionBreakers": ["##", "###"],
    "preserveCodeBlocks": true,
    "sectionTypes": [
      "frontmatter",
      "overview",
      "when-to-use",
      "anti-patterns",
      "references",
      "code-example",
      "mcp-integration",
      "workflow"
    ]
  },

  "search": {
    "defaultTopK": 5,
    "minSimilarity": 0.3,
    "maxResultsPerSkill": 3,
    "boostFactors": {
      "exactMatch": 1.5,
      "titleMatch": 1.3,
      "tagMatch": 1.2,
      "recentlyUpdated": 1.1
    }
  },

  "storage": {
    "embeddings": ".claude/data/embeddings/skill-embeddings.json",
    "index": ".claude/data/embeddings/skill-index.json",
    "cache": ".claude/data/embeddings/cache/"
  },

  "sources": {
    "skills": {
      "path": ".claude/skills",
      "pattern": "**/SKILL.md",
      "exclude": ["**/archive/**", "**/deprecated/**"]
    },
    "agents": {
      "path": ".claude/agents",
      "pattern": "**/AGENT.md",
      "exclude": []
    },
    "documentation": {
      "path": "website/docs",
      "pattern": "**/*.md",
      "exclude": ["**/node_modules/**"]
    }
  },

  "metadata": {
    "extractFrom": ["frontmatter", "title", "description", "tags"],
    "indexFields": ["name", "category", "triggers", "notFor", "tools"],
    "facets": ["category", "complexity", "tools", "mcpIntegrations"]
  },

  "scripts": {
    "generate": "npx ts-node .claude/rag/scripts/generate-embeddings.ts",
    "query": "npx ts-node .claude/rag/scripts/query-embeddings.ts",
    "validate": "npx ts-node .claude/rag/scripts/validate-store.ts"
  }
}
